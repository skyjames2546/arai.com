<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ - ‡∏û‡∏£‡∏µ‡πÄ‡∏°‡∏µ‡∏¢‡∏£‡πå‡∏•‡∏µ‡∏Å‡∏û‡∏£‡∏µ‡πÄ‡∏°‡∏µ‡∏¢‡∏°</title>
<style>
  body {
    margin:0;
    font-family:'Sarabun',sans-serif;
    background:#111;
    color:white;
  }

  header {
    display:flex;
    align-items:center;
    justify-content:space-between;
    padding:15px 30px;
    background: linear-gradient(to right,#000,#ffeb3b);
    color:#ffeb3b;
  }

  header h1 { margin:0; font-size:1.5em; cursor:pointer; }

  header div a {
    color:#111;
    background:#ffeb3b;
    padding:8px 12px;
    border-radius:8px;
    text-decoration:none;
    font-weight:bold;
    margin-left:10px;
  }

  .cart-section {
    padding:30px;
    max-width:900px;
    margin:auto;
  }

  .cart-section h2 {
    margin-bottom:15px;
    color:#ffeb3b;
  }

  .cart-item {
    display:flex;
    align-items:center;
    background:#222;
    border:2px solid #ffeb3b;
    border-radius:10px;
    padding:15px;
    margin-bottom:15px;
    gap:15px;
  }

  .cart-item img {
    width:100px;
    height:100px;
    object-fit:cover;
    border-radius:8px;
  }

  .cart-item div {
    flex:1;
  }

  .cart-item h3 { margin:0; color:#ffeb3b; }
  .cart-item p { margin:5px 0; }

  .cart-item input[type="checkbox"] {
    transform: scale(1.5);
    margin-right:15px;
    cursor:pointer;
  }

  .btn-back, .btn-delete {
    background:#333;
    color:white;
    padding:10px 20px;
    border:none;
    border-radius:8px;
    cursor:pointer;
    font-weight:bold;
    font-size:1em;
  }
  .btn-back:hover, .btn-delete:hover {
    background:#555;
    transform:scale(1.05);
    transition:0.3s;
  }

  .btn-checkout {
    background:#ffeb3b;
    color:#111;
    padding:8px 18px;
    border:none;
    border-radius:8px;
    font-weight:bold;
    cursor:pointer;
    font-size:1em;
  }

  .btn-checkout:hover {
    background:#fdd835;
    transform:scale(1.05);
    transition:0.3s;
  }

  .total {
    font-size:1.2em;
    font-weight:bold;
  }

  .btn-delete {
    margin-left:10px;
    background:#ff5252;
    color:white;
  }
  .btn-delete:hover {
    background:#ff1744;
  }
</style>
</head>
<body>

<header>
  <h1 onclick="window.location.href='product.html'"> ‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡∏¢‡∏±‡∏á‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</h1>
  <div>
    <a href="login.html">Login</a>
  </div>
</header>

<section class="cart-section">
  <h2>‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì</h2>

  <div id="cartItems">
    <!-- ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÅ‡∏™‡∏î‡∏á‡∏ï‡∏£‡∏á‡∏ô‡∏µ‡πâ‡∏î‡πâ‡∏ß‡∏¢ JS -->
  </div>

  <!-- Footer ‡∏Ç‡∏≠‡∏á‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤: ‡∏õ‡∏∏‡πà‡∏°‡∏¢‡πâ‡∏≠‡∏ô‡∏Å‡∏•‡∏±‡∏ö + ‡∏£‡∏ß‡∏°‡∏£‡∏≤‡∏Ñ‡∏≤ + ‡∏õ‡∏∏‡πà‡∏°‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠ -->
  <div class="cart-footer" style="display:flex; justify-content:space-between; align-items:center; margin-top:20px;">
    <button class="btn-back" onclick="window.location.href='product.html'">üîô ‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</button>
    <div style="text-align:right;">
      <span class="total">‡∏£‡∏ß‡∏°‡∏£‡∏≤‡∏Ñ‡∏≤‡∏ó‡∏µ‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏Å: <span id="totalPrice">0</span> ‡∏ö‡∏≤‡∏ó</span>
      <button class="btn-checkout" onclick="checkout()">‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠</button>
    </div>
  </div>
</section>

<script>
// ‡πÇ‡∏´‡∏•‡∏î‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤‡∏à‡∏≤‡∏Å localStorage
let cart = JSON.parse(localStorage.getItem("cart")) || [];

function renderCart() {
  const container = document.getElementById("cartItems");
  container.innerHTML = "";
  cart.forEach((item, index) => {
    const div = document.createElement("div");
    div.className = "cart-item";
    div.innerHTML = `
      <input type="checkbox" class="selectItem" data-index="${index}" checked>
      <img src="${item.img}" alt="${item.name}">
      <div>
        <h3>${item.name}</h3>
        <p>‡∏Ç‡∏ô‡∏≤‡∏î: ${item.size}</p>
        <p>‡∏£‡∏≤‡∏Ñ‡∏≤: ${item.price} ‡∏ö‡∏≤‡∏ó</p>
        <p>‡∏à‡∏≥‡∏ô‡∏ß‡∏ô: ${item.qty}</p>
      </div>
      <button class="btn-delete" onclick="deleteItem(${index})">‡∏•‡∏ö</button>
    `;
    container.appendChild(div);
  });
  updateTotal();
}

// ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏£‡∏≤‡∏Ñ‡∏≤‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏ï‡∏¥‡πä‡∏Å‡∏ñ‡∏π‡∏Å
function updateTotal(){
  const checkboxes = document.querySelectorAll(".selectItem");
  let total = 0;
  checkboxes.forEach(cb => {
    if(cb.checked){
      const item = cart[cb.dataset.index];
      total += item.price * item.qty;
    }
  });
  document.getElementById("totalPrice").textContent = total;
}

// ‡∏ï‡∏¥‡πä‡∏Å‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÉ‡∏´‡πâ update
document.addEventListener("change", e => {
  if(e.target.classList.contains("selectItem")){
    updateTotal();
  }
});

// ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠
function checkout(){
  const selected = cart.filter((_,i) => document.querySelector(`.selectItem[data-index='${i}']`).checked);
  if(selected.length === 0){
    alert("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠");
    return;
  }
  alert("‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢! ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤: " + selected.length);
  // ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ï‡πà‡∏≠‡∏¢‡∏≠‡∏î‡∏™‡πà‡∏á‡πÑ‡∏õ‡∏´‡∏ô‡πâ‡∏≤ order/‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô
}

// ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏•‡∏ö‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤
function deleteItem(index){
  if(confirm("‡∏Ñ‡∏∏‡∏ì‡πÅ‡∏ô‡πà‡πÉ‡∏à‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà‡∏ß‡πà‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏•‡∏ö‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ô‡∏µ‡πâ‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤?")){
    cart.splice(index, 1);
    localStorage.setItem("cart", JSON.stringify(cart));
    renderCart();
  }
}

renderCart();
</script>

</body>
</html>
